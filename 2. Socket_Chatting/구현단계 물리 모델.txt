CREATE TABLE MEMBER (
    ID INT PRIMARY KEY,
    NAME VARCHAR2(30) NOT NULL,
    NICKNAME VARCHAR2(50) NOT NULL,
    PW VARCHAR2(50) NOT NULL
);

CREATE TABLE CHATTINGROOM (
    CHATTINGROOM_ID NUMBER PRIMARY KEY,
    ROOMNAME VARCHAR2(100) NOT NULL,
    UNAME1 NUMBER NOT NULL,
    UNAME2 NUMBER NOT NULL,
    CONSTRAINT CHATTINGROOM_FK_UNAME1 FOREIGN KEY (UNAME1) REFERENCES MEMBER(ID),
    CONSTRAINT CHATTINGROOM_FK_UNAME2 FOREIGN KEY (UNAME2) REFERENCES MEMBER(ID)
);

CREATE TABLE CHATTINGLIST (
    CHATTINGLIST_ID NUMBER PRIMARY KEY,
    CHATTINGROOM_ID NUMBER NOT NULL,
    UNAME1 NUMBER NOT NULL,
    UNAME2 NUMBER NOT NULL,
    CONSTRAINT CHATTINGLIST_FK_ROOM FOREIGN KEY (CHATTINGROOM_ID) REFERENCES CHATTINGROOM(CHATTINGROOM_ID) ON DELETE CASCADE
);


CREATE TABLE CHATMESSAGE (
    CHATTINGMESSAGE_ID NUMBER PRIMARY KEY,
    CHATTINGROOM_ID NUMBER NOT NULL,
    UNAME1 NUMBER NOT NULL,
    CONTENT VARCHAR2(4000),
    REGDATE DATE DEFAULT SYSDATE,
    CONSTRAINT CHATMESSAGE_FK_ROOM FOREIGN KEY (CHATTINGROOM_ID) REFERENCES CHATTINGROOM(CHATTINGROOM_ID) ON DELETE CASCADE
);

CREATE TABLE MULTICHATTINGROOM (
    MULTICHATTINGROOM_ID NUMBER PRIMARY KEY,
    MULTIROOMNAME VARCHAR2(100) NOT NULL
);

CREATE TABLE MULTICHATTINGLIST (
    MULTICHATTINGLIST_ID NUMBER PRIMARY KEY,
    MULTICHATTINGROOM_ID NUMBER NOT NULL,
    ID NUMBER NOT NULL,
    CONSTRAINT MULTICHATTINGLIST_FK_ROOM FOREIGN KEY (MULTICHATTINGROOM_ID) REFERENCES MULTICHATTINGROOM(MULTICHATTINGROOM_ID) ON DELETE CASCADE,
    CONSTRAINT MULTICHATTINGLIST_FK_USER FOREIGN KEY (ID) REFERENCES MEMBER(ID)
);

CREATE TABLE MULTICHATMESSAGE (
    MULTICHATTINGMESSAGE_ID NUMBER PRIMARY KEY,
    MULTICHATTINGROOM_ID NUMBER NOT NULL,
    UNAME1 NUMBER NOT NULL,
    CONTENT VARCHAR2(4000),
    REGDATE DATE DEFAULT SYSDATE,
    CONSTRAINT MULTICHATMESSAGE_FK_ROOM FOREIGN KEY (MULTICHATTINGROOM_ID) REFERENCES MULTICHATTINGROOM(MULTICHATTINGROOM_ID) ON DELETE CASCADE
);